{{ define "main" -}}
<div itemscope itemtype="https://schema.org/BlogPosting" class="h-entry">
  <article itemprop="mainEntityOfPage">
    <header id="post-header">
      <h1 itemprop="name headline" class="p-name">{{ .Title }}</h1>
      <div class="post-meta">
        <p>
        <time itemprop="datePublished" datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .Date.Format "Jan 02, 2006" }}</time>
          {{- partial "lastmod.html" (dict "Page" . "Prefix" "&nbsp; · &nbsp;" ) }}
          &nbsp;·&nbsp; {{ .WordCount }} words
        </p>
        <hr>
      </div>
    </header>
    <section class="e-content" itemprop="articlebody">
      {{ partial "processed-content" . -}}
    </section>
  </article>
</div>
{{- end }}
{{- define "after" }}
{{ if (eq .Params.EOF false) }}{{ else }}<p id="#EOF">EOF</p>{{ end }}
<section class="comments">
  <p>
  Questions, comments? Send an email to my{{ $subject := printf "Re: %s" .Title }}
  <a href="mailto:~hedy/posts@lists.sr.ht?subject={{ $subject }}">blog-post mailing list</a>
  (with <a href="https://useplaintext.email">plain text</a>)
  or to me <a href="mailto:{{ .Site.Author.email }}?subject={{ $subject }}">privately</a>.
  </p>
</section>
{{- end }}
