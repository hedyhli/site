{{ $path := "webrings.yml" }}
{{ $data := slice }}
{{ with resources.Get $path }}
  {{ with .Err }}
    {{ errorf "Error fetching webrings: %s" . }}
  {{ else }}
    {{ $data = . | transform.Unmarshal }}
  {{ end }}
{{ end }}
<div class="webrings">
  <ul>
    {{ range $data }}
    <li>
      <p>
        <a aria-label="previous" class="arrow" referrerpolicy="strict-origin" href="{{ .previous }}">⇐</a>
        <span>
          <a href="{{ .url }}">{{ .name }}</a>
          {{ with .random }}
          <a aria-label="random" referrerpolicy="strict-origin" href="{{ . }}">🔀</a>
          {{ end }}
        </span>
        <a aria-label="next" class="arrow" referrerpolicy="strict-origin" href="{{ .next }}">⇒</a>
      </p>
    </li>
    {{ end }}
  </ul>
</div>
