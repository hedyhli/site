<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="{{ if .Params.description }}{{ .Params.description }}{{ else }}{{ .Site.Params.Description }}{{ end }}">
<meta name="author" content="{{ .Site.Author.name }}">
<link rel="alternate" type="application/rss+xml" href="{{ .Site.BaseURL }}posts/index.xml" title="{{ $.Site.Title }}">
{{ if ne .Site.BaseURL "https://hedy.tilde.cafe/" -}}
<meta name="robots" content="noindex">
{{ end -}}
{{/* <link rel="pgpkey" type="application/pgp-keys" href="{{ .Site.BaseURL }}publickey.asc"> */}}

<meta name="color-scheme" content="light dark">
{{ $css := resources.Get "main.css" | minify -}}
<style>{{ $css.Content | safeCSS }}</style>
<!--
	Syntax Highlighting ZONE :D

	1. has different themes for light and dark mode
	   light = monokailight
	   dark = dracula!
	2. Only adds the syntax css if the page needs it. The highlight param
	   is turned off by default, hence only posts and pages that have the
	   "highlight = true" will get this style :)
	3. Doesn't require an extra request. The two CSS files are saved in my
	   assets, and is tracked with git.
	4. IDK why but the dracula file had many classes set as just "{  }" and
	   makes it super unreadable in dark mode, so I've made all the blank ones
	   set color to white so it can be read in dark mode :>
-->
{{- if .Params.highlight -}}
{{ $syntaxlight := resources.Get "syntax/light.css" | minify -}}
{{ $syntaxdark := resources.Get "syntax/dark.css" | minify  -}}
<style>
{{ $syntaxlight.Content | safeCSS }}
@media (prefers-color-scheme: dark) {
	{{ $syntaxdark.Content | safeCSS }}
}
</style>
{{- end -}}
<!-- END Syntax Highlighting ZONE!! -->

<title>{{- block "title" . }}{{ .Site.Title }}{{ end -}}</title>

<meta property="og:title" content="{{ .Title }}">
<meta property="og:site_name" content="{{ $.Site.Title }}">
{{- if (eq "page" .Kind) }}
<meta property="og:type" content="article">
{{- else }}
<meta property="og:type" content="website">
{{- end -}}
<!-- TODO: Figure out the meta icons shit -->
{{/* {{ $og_image := resources.Get "/open_graph.png" | resources.Fingerprint "md5" -}} */}}
{{/* {{ printf `<meta property="og:image" content="%s">` $og_image.Permalink | safeHTML }} */}}
{{/* <meta property="og:image:type" content="image/png"> */}}
{{/* <meta property="og:image:height" content="630"> */}}
{{/* <meta property="og:image:width" content="1200"> */}}
{{/* <meta property="og:url" content="{{ .Permalink }}"> */}}
{{/* <meta property="og:description" content="{{ if .Params.description }}{{ .Params.description }}{{ else }}{{ .Site.Params.Description }}{{ end }}"> */}}
{{ hugo.Generator }}
